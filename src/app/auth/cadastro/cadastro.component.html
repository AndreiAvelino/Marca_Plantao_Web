<div class="pagina">
  <form [formGroup]="formulario">

    <mat-vertical-stepper [linear]="false" #stepper animationDuration="500">  
  
      <mat-step [stepControl]="true">  
        <div class="stepper-conteudo">         
          <app-input formControlName="nome"
                     [label]="'Nome'"                  
                     [control]="formulario.controls.nome">
          </app-input>
  
          <app-input formControlName="dataNascimento"
                     type="date"
                     appearance="fill"
                     [label]="'Data de nascimento'"
                     [control]="formulario.controls.dataNascimento">
          </app-input>

          <app-input mask="(00) 00000-0000" 
                     formControlName="telefone"
                     [label]="'Telefone'"
                     [control]="formulario.controls.telefone">
          </app-input>

          <mp-radio label="Genero:"
                    formControlName="genero" 
                    [opcoes]="[{Descricao: 'Masculino', Valor: 'M'}, {Descricao: 'Feminino', Valor: 'F'}]" 
                    layout="em-coluna"
                    [width]= "350">
          </mp-radio>
        </div>
      
        <ng-template matStepLabel>Informações pessoais</ng-template>
  
      </mat-step>


      <mat-step [stepControl]="true">
        <ng-template matStepLabel>Conta</ng-template>
  
        <div class="stepper-conteudo">
          <app-input formControlName="email"
                     type="email"
                     [label]="'E-mail'"
                     [control]="formulario.controls.email">
          </app-input>
  
          <app-input formControlName="password"
                     type="password"
                     [label]="'Senha'"
                     [control]="formulario.controls.password">
          </app-input>
  
          <app-input formControlName="confirmPassword"
                     type="password"
                     [label]="'Confirmar senha'"
                     [control]="formulario.controls.password">
          </app-input>
        </div>
      </mat-step>



      <mat-step [stepControl]="true">
        <ng-template matStepLabel>Documentos</ng-template>
  
        <div class="stepper-conteudo">
          <app-input mask="000.000.000-00" 
                     formControlName="cpf"
                     [label]="'CPF'"
                     [control]="formulario.controls.cpf">
          </app-input>
  
          <app-input formControlName="crm"
                     [label]="'CRM'"
                     [control]="formulario.controls.crm">
          </app-input>
        </div>
  
      </mat-step>

      <mat-step>
        <ng-template matStepLabel>Especializações</ng-template>
  
        <mat-form-field appearance="fill" class="stepper-conteudo">
          <mat-label>Especialização</mat-label>
          <mat-select formControlName="especializacoes" multiple>
            <mat-option *ngFor="let especializacao of ListaEspecializacao | async" [value]="especializacao">
              {{especializacao.descricao}}
            </mat-option>
          </mat-select>
        </mat-form-field> 
      
      </mat-step>
      <mat-step>
        <ng-template matStepLabel>Finalizar</ng-template>
      </mat-step>
    </mat-vertical-stepper>
  </form>

  <div *ngIf="mostraBotaoFinalizar" class="button">
    <button class="button-finalizar"
            mat-stroked-button
            (click)="cadastrarUsuario()">
      <div *ngIf="!logando" class="button-finalizar-label">
        <p>Finalizar</p>
      </div>
      <div *ngIf="logando" class="button-finalizar-spinner">
        <mat-spinner class="mat-spinner-color" diameter="30"></mat-spinner>
      </div>   
    </button>
  </div>
  

</div>